import{c as w,e as T,f as q,ap as B,k as h,m as L,h as i,a6 as N,L as S,C as E,E as V,g as D,M as H,r as x,o as P,Y as p,Z as c,_ as o,a0 as u,$ as r,a9 as R,aa as Q,a1 as b,a3 as g,a4 as j,a5 as I,ab as M,a2 as v,a7 as y,ai as C}from"./index-DXMZALbm.js";import{Q as _}from"./QBadge-DIaLFIIK.js";import{Q as F}from"./QPage-CCXwAZhy.js";import{a as $}from"./index-xsH4HHeE.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K=w({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:l}){const s=T(B,q);if(s===q)return console.error("QTimelineEntry needs to be child of QTimeline"),q;const m=h(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),d=h(()=>`q-timeline__dot text-${e.color||s.color}`),f=h(()=>s.layout==="comfortable"&&s.side==="left");return()=>{const n=L(l.default,[]);if(e.body!==void 0&&n.unshift(e.body),e.heading===!0){const k=[i("div"),i("div"),i(e.tag,{class:"q-timeline__heading-title"},n)];return i("div",{class:"q-timeline__heading"},f.value===!0?k.reverse():k)}let t;e.icon!==void 0?t=[i(N,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(t=[i("img",{class:"q-timeline__dot-img",src:e.avatar})]);const a=[i("div",{class:"q-timeline__subtitle"},[i("span",{},S(l.subtitle,[e.subtitle]))]),i("div",{class:d.value},t),i("div",{class:"q-timeline__content"},[i("h6",{class:"q-timeline__title"},S(l.title,[e.title]))].concat(n))];return i("li",{class:m.value},f.value===!0?a.reverse():a)}}}),Y=w({name:"QTimeline",props:{...E,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}},setup(e,{slots:l}){const s=D(),m=V(e,s.proxy.$q);H(B,e);const d=h(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(m.value===!0?" q-timeline--dark":""));return()=>i("ul",{class:d.value},S(l.default))}}),Z={class:"q-pa-md"},z={class:"row items-center justify-between"},A={key:0,class:"text-center q-mt-md text-grey"},G={key:1,class:"text-center q-mt-md text-grey"},J={key:2},O={class:"row items-center q-gutter-md"},W={class:"q-ml-xs"},X={__name:"SalesHistoryPage",setup(e){const l=x([]),s=x(!0);async function m(){s.value=!0;try{const n=await $.get("http://localhost:3001/api/sales");l.value=n.data}catch{l.value=[]}s.value=!1}P(m);async function d(n){let t=`http://localhost:3001/api/sales/clear/${n}`;try{await $.delete(t),C.create({type:"positive",message:`Vendas do ${n==="day"?"dia":n==="week"?"semana":"mês"} removidas!`}),m()}catch{C.create({type:"negative",message:"Erro ao limpar histórico."})}}function f(n){return Number(n).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return(n,t)=>(c(),p(F,null,{default:o(()=>[u("div",Z,[r(R,{flat:"",bordered:""},{default:o(()=>[r(Q,null,{default:o(()=>[u("div",z,[t[3]||(t[3]=u("div",{class:"text-h6 custom-font-bold"},"Vendas Registradas",-1)),u("div",null,[r(b,{dense:"",flat:"",color:"negative",label:"Limpar Dia",onClick:t[0]||(t[0]=a=>d("day"))}),r(b,{dense:"",flat:"",color:"warning",label:"Limpar Semana",onClick:t[1]||(t[1]=a=>d("week")),class:"q-ml-xs"}),r(b,{dense:"",flat:"",color:"primary",label:"Limpar Mês",onClick:t[2]||(t[2]=a=>d("month")),class:"q-ml-xs"})])])]),_:1}),r(Q,null,{default:o(()=>[s.value?(c(),g("div",A,"Carregando vendas...")):l.value.length?(c(),g("div",J,[r(Y,{color:"primary"},{default:o(()=>[(c(!0),g(j,null,I(l.value,a=>(c(),p(K,{key:a.id,title:a.name,subtitle:a.date,icon:"shopping_cart",class:"q-mb-md"},{default:o(()=>[u("div",O,[r(_,{color:"blue",align:"top"},{default:o(()=>[t[4]||(t[4]=v(" Quantidade: ")),u("span",W,y(a.quantity),1)]),_:2},1024),r(_,{color:"green",align:"top"},{default:o(()=>[v(" Unitário: "+y(f(a.price)),1)]),_:2},1024),r(_,{color:"deep-orange",align:"top"},{default:o(()=>[t[5]||(t[5]=v(" Total: ")),u("b",null,y(f(a.total??a.price*a.quantity)),1)]),_:2},1024),a.method?(c(),p(_,{key:0,color:"grey-8",align:"top"},{default:o(()=>[v(y(a.method),1)]),_:2},1024)):M("",!0)])]),_:2},1032,["title","subtitle"]))),128))]),_:1})])):(c(),g("div",G,"Nenhuma venda registrada até o momento."))]),_:1})]),_:1})])]),_:1}))}},le=U(X,[["__scopeId","data-v-4e14fdd7"]]);export{le as default};
