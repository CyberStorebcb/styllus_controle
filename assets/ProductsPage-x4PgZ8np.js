import{r as f,o as R,k as x,Z as Q,_ as d,$ as n,a1 as o,a0 as t,a3 as m,a7 as g,a8 as p,ac as b,ad as E,a2 as P,a4 as v,a5 as C,a6 as V,ae as N,aa as z,ab as $,af as A,ag as L,ah as T,ai as i,aj as k}from"./index-CcZL36bu.js";import{Q as w}from"./QBadge-Bsaq0ea0.js";import{Q as U}from"./QSelect-CDQCxN_o.js";import{Q as J}from"./QForm-0t8uktQx.js";import{Q as S}from"./QExpansionItem-SxVpBlwy.js";import{a as O,b as F,Q as W}from"./QItem-CYYZe4mU.js";import{Q as j}from"./QList-Sm4JgB4e.js";import{Q as Z}from"./QPage-AfhLj1iC.js";import{u as G}from"./product-store-CkrkVesU.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-B0nMkR0K.js";const K={class:"products-content"},X={class:"row items-center q-mb-md q-mt-lg"},Y={class:"col"},ee={class:"custom-font-bold gradient-title animate-title text-h4 flex items-center"},ae={class:"col-auto flex items-center"},te={class:"row q-col-gutter-md q-mb-md"},oe={class:"col-12 col-md-8"},se={class:"col-12 col-md-4"},ne={class:"row q-col-gutter-md"},le={class:"col-12 col-md-6"},ie={class:"col-12 col-md-4"},re={class:"col-12 col-md-2 flex flex-center"},de={class:"row q-col-gutter-md"},ue={class:"custom-font-bold text-h6"},ce={class:"custom-font-light text-grey-7"},me={key:0,class:"col-12 text-center q-mt-md"},pe={__name:"ProductsPage",setup(fe){const l=G(),y=f(""),u=f("Todos"),r=f({name:"",quantity:0}),_=f(null);R(()=>{l.loadProducts(),l.products.length===0&&[{name:"Camiseta BÃ¡sica Branca",quantity:20},{name:"CalÃ§a Jeans Skinny",quantity:15},{name:"Vestido Floral Curto",quantity:10},{name:"Blusa de TricÃ´ Feminina",quantity:8},{name:"Jaqueta Jeans Masculina",quantity:6},{name:"Shorts Jeans Feminino",quantity:12},{name:"Camisa Social Masculina",quantity:9},{name:"Saia Midi Plissada",quantity:7},{name:"Blazer Alfaiataria",quantity:5},{name:"Regata Canelada",quantity:18},{name:"Moletom Capuz Unissex",quantity:13},{name:"CalÃ§a Legging Preta",quantity:14},{name:"MacacÃ£o Pantacourt",quantity:4},{name:"Cropped Manga Longa",quantity:11},{name:"Camisa Polo Masculina",quantity:10}].forEach(a=>l.addProduct(a))});const q=x(()=>l.products.filter(s=>{const a=s.name.toLowerCase().includes(y.value.toLowerCase()),e=u.value==="Todos"||u.value==="DisponÃ­veis"&&s.quantity>0||u.value==="Esgotados"&&s.quantity===0;return a&&e})),h=x(()=>l.products.filter(s=>s.quantity===0));function B(){_.value.validate()&&(l.addProduct(r.value),i.create({type:"positive",message:`Produto "${r.value.name}" adicionado com sucesso!`}),r.value={name:"",quantity:0},_.value.resetValidation())}function D(s){const a=l.products.find(e=>e.id===s);if(!a){i.create({type:"negative",message:"Produto nÃ£o encontrado."});return}l.deleteProduct(s),i.create({type:"positive",message:`Produto "${a.name}" excluÃ­do com sucesso!`})}function I(s){const a=l.products.find(e=>e.id===s);if(!a){i.create({type:"negative",message:"Produto nÃ£o encontrado."});return}k.create({title:"Reabastecer Produto",message:`Informe a quantidade para reabastecer o produto "${a.name}":`,prompt:{model:"",type:"number",isValid:e=>e>0,label:"Quantidade",placeholder:"Digite a quantidade"},cancel:!0,persistent:!0}).onOk(e=>{const c=parseInt(e,10);if(isNaN(c)||c<=0){i.create({type:"negative",message:"Quantidade invÃ¡lida."});return}l.restockProduct(s,c),i.create({type:"positive",message:`Produto "${a.name}" reabastecido com sucesso!`})}).onCancel(()=>{i.create({type:"info",message:"Reabastecimento cancelado."})})}function M(s){const a=l.products.find(e=>e.id===s);if(!a){i.create({type:"negative",message:"Produto nÃ£o encontrado."});return}k.create({title:"Confirmar ExclusÃ£o",message:`Tem certeza de que deseja excluir o produto "${a.name}"?`,cancel:!0,persistent:!0,icon:"warning",color:"red"}).onOk(()=>{D(s)}).onCancel(()=>{i.create({type:"info",message:"A exclusÃ£o foi cancelada."})})}return(s,a)=>(d(),Q(Z,null,{default:n(()=>[o("div",K,[o("div",X,[o("div",Y,[o("div",ee,[t(g,{name:"inventory_2",size:"28px",class:"q-mr-sm"}),a[4]||(a[4]=m(" Produtos "))])]),o("div",ae,[t(w,{color:"green",class:"q-mr-sm badge-pill animate-badge"},{default:n(()=>[m(" DisponÃ­veis: "+p(q.value.length),1)]),_:1}),t(w,{color:"red",class:"badge-pill animate-badge"},{default:n(()=>[m(" Esgotados: "+p(h.value.length),1)]),_:1})])]),o("div",te,[o("div",oe,[t(b,{modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value=e),label:"Buscar Produto",outlined:"",dense:"",class:"q-mb-none",placeholder:"Digite o nome do produto",clearable:"",prefix:"ðŸ”",color:"primary","input-style":{fontFamily:"Inter, Poppins, Roboto, sans-serif",fontWeight:500}},null,8,["modelValue"])]),o("div",se,[t(U,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),options:["Todos","DisponÃ­veis","Esgotados"],label:"Filtrar",outlined:"",dense:"",class:"q-mb-none",color:"primary","input-style":{fontFamily:"Inter, Poppins, Roboto, sans-serif",fontWeight:500}},null,8,["modelValue"])])]),t(S,{label:"Adicionar Produto","expand-separator":"",class:"add-expansion animate-fade-in",icon:"add_box","header-class":"expansion-header"},{default:n(()=>[t(J,{onSubmit:E(B,["prevent"]),ref_key:"productForm",ref:_},{default:n(()=>[o("div",ne,[o("div",le,[t(b,{modelValue:r.value.name,"onUpdate:modelValue":a[2]||(a[2]=e=>r.value.name=e),label:"Nome do Produto",placeholder:"Digite o nome do produto",outlined:"",dense:"",rules:[e=>!!e||"O nome do produto Ã© obrigatÃ³rio"],color:"primary","input-style":{fontFamily:"Inter, Poppins, Roboto, sans-serif",fontWeight:500}},null,8,["modelValue","rules"])]),o("div",ie,[t(b,{modelValue:r.value.quantity,"onUpdate:modelValue":a[3]||(a[3]=e=>r.value.quantity=e),modelModifiers:{number:!0},label:"Quantidade",placeholder:"Digite a quantidade",type:"number",outlined:"",dense:"",rules:[e=>e>0||"A quantidade deve ser maior que zero"],color:"primary","input-style":{fontFamily:"Inter, Poppins, Roboto, sans-serif",fontWeight:500}},null,8,["modelValue","rules"])]),o("div",re,[t(P,{label:"+ Adicionar",type:"submit",color:"primary",class:"full-width",icon:"add_box",unelevated:"","no-caps":""})])])]),_:1},512)]),_:1}),t(S,{label:"Produtos Esgotados","expand-separator":"",class:"out-expansion animate-fade-in",icon:"warning","header-class":"expansion-header"},{default:n(()=>[t(j,null,{default:n(()=>[(d(!0),v(C,null,V(h.value,e=>(d(),Q(O,{key:e.id},{default:n(()=>[t(F,{avatar:""},{default:n(()=>[t(g,{name:"warning",color:"red"})]),_:1}),t(F,null,{default:n(()=>[t(W,{class:"custom-font-bold"},{default:n(()=>[m(p(e.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),o("div",de,[(d(!0),v(C,null,V(q.value,e=>(d(),v("div",{key:e.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[t(z,{class:"product-card animate-fade-in"},{default:n(()=>[t($,{class:"row items-center"},{default:n(()=>[t(g,{name:"inventory_2",color:"primary",size:"32px",class:"q-mr-sm"}),o("div",null,[o("div",ue,p(e.name),1),o("div",ce,[a[5]||(a[5]=m(" Quantidade: ")),o("span",{class:A(e.quantity===0?"text-red":"text-green")},p(e.quantity),3)])])]),_:2},1024),t(L),t(T,{align:"right",class:"action-group"},{default:n(()=>[t(P,{icon:"add",label:"Adicionar Estoque",color:"green",flat:"",onClick:c=>I(e.id),class:"q-mr-xs","no-caps":""},null,8,["onClick"]),t(P,{icon:"delete",label:"Remover",color:"red",flat:"",onClick:c=>M(e.id),"no-caps":""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),q.value.length===0?(d(),v("div",me,[t(g,{name:"info",size:"lg",color:"grey-6"}),a[6]||(a[6]=o("p",{class:"custom-font-light"},"Nenhum produto encontrado.",-1))])):N("",!0)])])]),_:1}))}},Ve=H(pe,[["__scopeId","data-v-c6b102c9"]]);export{Ve as default};
