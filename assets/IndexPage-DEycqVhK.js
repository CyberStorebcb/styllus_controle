import{c as T,C as V,E as $,g as L,k as z,h as A,L as E,aa as C,r as l,_ as N,o as F,Z as R,$ as p,a0 as o,a2 as t,a1 as s,a4 as r,a8 as d,a3 as j,ab as i,ac as c,a5 as k,a6 as G,a9 as h}from"./index-DUcdBK8F.js";import{Q as M}from"./QPage-D_dxwWK0.js";import{u as Z}from"./product-store-DPTwWHAA.js";import{C as q,B as H,a as J,b as K,L as O,p as U,c as W,P as X,A as Y}from"./chart-CMoAIPdT.js";import"./index-xsH4HHeE.js";const aa=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],ea=["wave","pulse","pulse-x","pulse-y","fade","blink","none"],ta=T({name:"QSkeleton",props:{...V,tag:{type:String,default:"div"},type:{type:String,validator:e=>aa.includes(e),default:"rect"},animation:{type:String,validator:e=>ea.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:n}){const f=L(),y=$(e,f.proxy.$q),g=z(()=>{const m=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:m[0],height:m[1]}}),u=z(()=>`q-skeleton q-skeleton--${y.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>A(e.tag,{class:u.value,style:g.value},E(n.default))}}),sa=C("report",()=>({reports:l([{id:1,name:"Relatório Mensal"},{id:2,name:"Relatório de Estoque"}])})),oa=C("investment",()=>({totalInvested:l(5e3)})),la=C("sales",()=>{const e=l(12e3);function n(){return[{date:"Seg",value:10},{date:"Ter",value:20},{date:"Qua",value:15},{date:"Qui",value:30},{date:"Sex",value:25},{date:"Sáb",value:18},{date:"Dom",value:12}]}return{totalSalesValue:e,getSalesLast7Days:n}}),ra={class:"dashboard-container"},da={class:"dashboard-title text-h4 text-center q-mb-lg"},na={class:"row justify-end q-mb-md"},ia={class:"dashboard-cards q-gutter-md row wrap justify-center"},ca={class:"dashboard-card-title"},ua={class:"dashboard-card-value"},ma={class:"dashboard-card-desc"},va={class:"dashboard-card-title"},pa={class:"dashboard-card-value"},ha={class:"dashboard-card-title"},ga={class:"dashboard-card-value"},ba={class:"dashboard-card-title"},_a={class:"dashboard-card-value"},fa={class:"dashboard-charts row q-mt-xl q-gutter-md"},ya={class:"dashboard-chart-title"},Sa={class:"dashboard-chart-title"},xa={key:0,class:"text-grey text-center q-mt-md"},ka={__name:"IndexPage",setup(e){q.register(H,J,K,O,U,W,X,Y);const n=Z(),f=sa(),y=oa(),g=la(),u=l(0),m=l(0),Q=l(0),w=l(0),b=l(!0),D=l(null),I=l(null);let S=null,x=null;const _=l([]);async function B(){b.value=!0,await new Promise(v=>setTimeout(v,600)),u.value=n.products?.length||0,m.value=f.reports?.length||0,Q.value=y.totalInvested||0,w.value=g.totalSalesValue||0,_.value=n.products?.slice(0,5)||[],P(),b.value=!1}function P(){S&&S.destroy(),x&&x.destroy();const v=g.getSalesLast7Days?.()||[{date:"Seg",value:10},{date:"Ter",value:20},{date:"Qua",value:15},{date:"Qui",value:30},{date:"Sex",value:25},{date:"Sáb",value:18},{date:"Dom",value:12}];S=new q(D.value,{type:"bar",data:{labels:v.map(a=>a.date),datasets:[{label:"Vendas",data:v.map(a=>a.value),backgroundColor:"#1976d2",borderRadius:8}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}}),x=new q(I.value,{type:"pie",data:{labels:_.value.map(a=>a.name),datasets:[{data:_.value.map(a=>a.quantity),backgroundColor:["#1976d2","#43a047","#fb8c00","#8e24aa","#e53935"]}]},options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})}return F(async()=>{await B()}),(v,a)=>(p(),R(M,null,{default:o(()=>[t("div",ra,[t("div",da,[s(d,{name:"dashboard",color:"primary",size:"36px",class:"q-mr-sm"}),a[0]||(a[0]=r(" Dashboard Geral "))]),t("div",na,[s(j,{color:"primary",icon:"refresh",label:"Atualizar",onClick:B,loading:b.value,unelevated:""},null,8,["loading"])]),t("div",ia,[s(i,{class:"dashboard-card col-12 col-sm-6 col-md-3"},{default:o(()=>[s(c,null,{default:o(()=>[t("div",ca,[s(d,{name:"shopping_cart",color:"primary",size:"28px",class:"q-mr-sm"}),a[1]||(a[1]=r(" Produtos "))]),t("div",ua,[b.value?(p(),R(ta,{key:0,type:"text",width:"60px"})):(p(),k(G,{key:1},[r(h(u.value),1)],64))]),t("div",ma,h(u.value===1?"Cadastrado":"Cadastrados"),1)]),_:1})]),_:1}),s(i,{class:"dashboard-card col-xs-12 col-sm-6 col-md-3"},{default:o(()=>[s(c,null,{default:o(()=>[t("div",va,[s(d,{name:"attach_money",color:"green",size:"28px",class:"q-mr-sm"}),a[2]||(a[2]=r(" Vendas "))]),t("div",pa," R$ "+h(w.value.toLocaleString("pt-BR",{minimumFractionDigits:2})),1),a[3]||(a[3]=t("div",{class:"dashboard-card-desc"},"Total Vendido",-1))]),_:1})]),_:1}),s(i,{class:"dashboard-card col-xs-12 col-sm-6 col-md-3"},{default:o(()=>[s(c,null,{default:o(()=>[t("div",ha,[s(d,{name:"bar_chart",color:"deep-orange",size:"28px",class:"q-mr-sm"}),a[4]||(a[4]=r(" Relatórios "))]),t("div",ga,h(m.value),1),a[5]||(a[5]=t("div",{class:"dashboard-card-desc"},"Gerados",-1))]),_:1})]),_:1}),s(i,{class:"dashboard-card col-xs-12 col-sm-6 col-md-3"},{default:o(()=>[s(c,null,{default:o(()=>[t("div",ba,[s(d,{name:"account_balance_wallet",color:"purple",size:"28px",class:"q-mr-sm"}),a[6]||(a[6]=r(" Investimentos "))]),t("div",_a," R$ "+h(Q.value.toLocaleString("pt-BR",{minimumFractionDigits:2})),1),a[7]||(a[7]=t("div",{class:"dashboard-card-desc"},"Total Investido",-1))]),_:1})]),_:1})]),t("div",fa,[s(i,{class:"dashboard-chart-card col-xs-12 col-md-6"},{default:o(()=>[s(c,null,{default:o(()=>[t("div",ya,[s(d,{name:"show_chart",color:"primary",size:"24px",class:"q-mr-sm"}),a[8]||(a[8]=r(" Vendas dos Últimos 7 Dias "))]),t("canvas",{ref_key:"salesChart",ref:D},null,512)]),_:1})]),_:1}),s(i,{class:"dashboard-chart-card col-xs-12 col-md-6"},{default:o(()=>[s(c,null,{default:o(()=>[t("div",Sa,[s(d,{name:"pie_chart",color:"deep-orange",size:"24px",class:"q-mr-sm"}),a[9]||(a[9]=r(" Distribuição de Produtos "))]),_.value.length?(p(),k("canvas",{key:1,ref_key:"productsChart",ref:I},null,512)):(p(),k("div",xa," Nenhum produto cadastrado. "))]),_:1})]),_:1})])])]),_:1}))}},Ia=N(ka,[["__scopeId","data-v-03e415c0"]]);export{Ia as default};
