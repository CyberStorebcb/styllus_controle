import{_ as R,r as f,o as E,k as x,Z as Q,$ as d,a0 as n,a2 as o,a1 as t,a4 as m,a8 as g,a9 as p,ad as b,ae as N,a3 as P,a5 as v,a6 as C,a7 as k,af as z,ab as $,ac as A,ag as L,ah as T,ai as U,aj as i,ak as V}from"./index-CB47dOFH.js";import{Q as w}from"./QBadge-B5Ts8FNt.js";import{Q as J}from"./QSelect-BZFJHxNz.js";import{Q as O}from"./QForm-BtYH8D62.js";import{Q as S}from"./QExpansionItem-DP-hgwPC.js";import{a as W,b as F,Q as j}from"./QItem-BYtDrI_o.js";import{Q as Z}from"./QList-BzJz-1H_.js";import{Q as G}from"./QPage-DoY0AoEw.js";import{u as H}from"./product-store-XpC8gib_.js";import"./format-D6o5jUlB.js";const K={class:"products-content"},X={class:"row items-center q-mb-md q-mt-lg"},Y={class:"col"},ee={class:"custom-font-bold gradient-title animate-title text-h4 flex items-center"},ae={class:"col-auto flex items-center"},te={class:"row q-col-gutter-md q-mb-md"},oe={class:"col-12 col-md-8"},se={class:"col-12 col-md-4"},ne={class:"row q-col-gutter-md"},le={class:"col-12 col-md-6"},ie={class:"col-12 col-md-4"},re={class:"col-12 col-md-2 flex flex-center"},de={class:"row q-col-gutter-md"},ue={class:"custom-font-bold text-h6"},ce={class:"custom-font-light text-grey-7"},me={key:0,class:"col-12 text-center q-mt-md"},pe={__name:"ProductsPage",setup(fe){const l=H(),y=f(""),u=f("Todos"),r=f({name:"",quantity:0}),_=f(null);E(()=>{l.loadProducts(),l.products.length===0&&[{name:"Camiseta Básica Branca",quantity:20},{name:"Calça Jeans Skinny",quantity:15},{name:"Vestido Floral Curto",quantity:10},{name:"Blusa de Tricô Feminina",quantity:8},{name:"Jaqueta Jeans Masculina",quantity:6},{name:"Shorts Jeans Feminino",quantity:12},{name:"Camisa Social Masculina",quantity:9},{name:"Saia Midi Plissada",quantity:7},{name:"Blazer Alfaiataria",quantity:5},{name:"Regata Canelada",quantity:18},{name:"Moletom Capuz Unissex",quantity:13},{name:"Calça Legging Preta",quantity:14},{name:"Macacão Pantacourt",quantity:4},{name:"Cropped Manga Longa",quantity:11},{name:"Camisa Polo Masculina",quantity:10}].forEach(a=>l.addProduct(a))});const q=x(()=>l.products.filter(s=>{const a=s.name.toLowerCase().includes(y.value.toLowerCase()),e=u.value==="Todos"||u.value==="Disponíveis"&&s.quantity>0||u.value==="Esgotados"&&s.quantity===0;return a&&e})),h=x(()=>l.products.filter(s=>s.quantity===0));function B(){_.value.validate()&&(l.addProduct(r.value),i.create({type:"positive",message:`Produto "${r.value.name}" adicionado com sucesso!`}),r.value={name:"",quantity:0},_.value.resetValidation())}function D(s){const a=l.products.find(e=>e.id===s);if(!a){i.create({type:"negative",message:"Produto não encontrado."});return}l.deleteProduct(s),i.create({type:"positive",message:`Produto "${a.name}" excluído com sucesso!`})}function I(s){const a=l.products.find(e=>e.id===s);if(!a){i.create({type:"negative",message:"Produto não encontrado."});return}V.create({title:"Reabastecer Produto",message:`Informe a quantidade para reabastecer o produto "${a.name}":`,prompt:{model:"",type:"number",isValid:e=>e>0,label:"Quantidade",placeholder:"Digite a quantidade"},cancel:!0,persistent:!0}).onOk(e=>{const c=parseInt(e,10);if(isNaN(c)||c<=0){i.create({type:"negative",message:"Quantidade inválida."});return}l.restockProduct(s,c),i.create({type:"positive",message:`Produto "${a.name}" reabastecido com sucesso!`})}).onCancel(()=>{i.create({type:"info",message:"Reabastecimento cancelado."})})}function M(s){const a=l.products.find(e=>e.id===s);if(!a){i.create({type:"negative",message:"Produto não encontrado."});return}V.create({title:"Confirmar Exclusão",message:`Tem certeza de que deseja excluir o produto "${a.name}"?`,cancel:!0,persistent:!0,icon:"warning",color:"red"}).onOk(()=>{D(s)}).onCancel(()=>{i.create({type:"info",message:"A exclusão foi cancelada."})})}return(s,a)=>(d(),Q(G,null,{default:n(()=>[o("div",K,[o("div",X,[o("div",Y,[o("div",ee,[t(g,{name:"inventory_2",size:"28px",class:"q-mr-sm"}),a[4]||(a[4]=m(" Produtos "))])]),o("div",ae,[t(w,{color:"green",class:"q-mr-sm badge-pill animate-badge"},{default:n(()=>[m(" Disponíveis: "+p(q.value.length),1)]),_:1}),t(w,{color:"red",class:"badge-pill animate-badge"},{default:n(()=>[m(" Esgotados: "+p(h.value.length),1)]),_:1})])]),o("div",te,[o("div",oe,[t(b,{modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value=e),label:"Buscar Produto",outlined:"",dense:"",class:"q-mb-none",placeholder:"Digite o nome do produto",clearable:"",prefix:"🔍",color:"primary","input-style":{fontFamily:"Inter, Poppins, Roboto, sans-serif",fontWeight:500}},null,8,["modelValue"])]),o("div",se,[t(J,{modelValue:u.value,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value=e),options:["Todos","Disponíveis","Esgotados"],label:"Filtrar",outlined:"",dense:"",class:"q-mb-none",color:"primary","input-style":{fontFamily:"Inter, Poppins, Roboto, sans-serif",fontWeight:500}},null,8,["modelValue"])])]),t(S,{label:"Adicionar Produto","expand-separator":"",class:"add-expansion animate-fade-in",icon:"add_box","header-class":"expansion-header"},{default:n(()=>[t(O,{onSubmit:N(B,["prevent"]),ref_key:"productForm",ref:_},{default:n(()=>[o("div",ne,[o("div",le,[t(b,{modelValue:r.value.name,"onUpdate:modelValue":a[2]||(a[2]=e=>r.value.name=e),label:"Nome do Produto",placeholder:"Digite o nome do produto",outlined:"",dense:"",rules:[e=>!!e||"O nome do produto é obrigatório"],color:"primary","input-style":{fontFamily:"Inter, Poppins, Roboto, sans-serif",fontWeight:500}},null,8,["modelValue","rules"])]),o("div",ie,[t(b,{modelValue:r.value.quantity,"onUpdate:modelValue":a[3]||(a[3]=e=>r.value.quantity=e),modelModifiers:{number:!0},label:"Quantidade",placeholder:"Digite a quantidade",type:"number",outlined:"",dense:"",rules:[e=>e>0||"A quantidade deve ser maior que zero"],color:"primary","input-style":{fontFamily:"Inter, Poppins, Roboto, sans-serif",fontWeight:500}},null,8,["modelValue","rules"])]),o("div",re,[t(P,{label:"+ Adicionar",type:"submit",color:"primary",class:"full-width",icon:"add_box",unelevated:"","no-caps":""})])])]),_:1},512)]),_:1}),t(S,{label:"Produtos Esgotados","expand-separator":"",class:"out-expansion animate-fade-in",icon:"warning","header-class":"expansion-header"},{default:n(()=>[t(Z,null,{default:n(()=>[(d(!0),v(C,null,k(h.value,e=>(d(),Q(W,{key:e.id},{default:n(()=>[t(F,{avatar:""},{default:n(()=>[t(g,{name:"warning",color:"red"})]),_:1}),t(F,null,{default:n(()=>[t(j,{class:"custom-font-bold"},{default:n(()=>[m(p(e.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),o("div",de,[(d(!0),v(C,null,k(q.value,e=>(d(),v("div",{key:e.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[t($,{class:"product-card animate-fade-in"},{default:n(()=>[t(A,{class:"row items-center"},{default:n(()=>[t(g,{name:"inventory_2",color:"primary",size:"32px",class:"q-mr-sm"}),o("div",null,[o("div",ue,p(e.name),1),o("div",ce,[a[5]||(a[5]=m(" Quantidade: ")),o("span",{class:L(e.quantity===0?"text-red":"text-green")},p(e.quantity),3)])])]),_:2},1024),t(T),t(U,{align:"right",class:"action-group"},{default:n(()=>[t(P,{icon:"add",label:"Adicionar Estoque",color:"green",flat:"",onClick:c=>I(e.id),class:"q-mr-xs","no-caps":""},null,8,["onClick"]),t(P,{icon:"delete",label:"Remover",color:"red",flat:"",onClick:c=>M(e.id),"no-caps":""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),q.value.length===0?(d(),v("div",me,[t(g,{name:"info",size:"lg",color:"grey-6"}),a[6]||(a[6]=o("p",{class:"custom-font-light"},"Nenhum produto encontrado.",-1))])):z("",!0)])])]),_:1}))}},Ce=R(pe,[["__scopeId","data-v-c6b102c9"]]);export{Ce as default};
