import{r as p,k as x,o as V,w as N,Z as w,_ as u,$ as a,a1 as r,a0 as e,aa as g,ab as f,a7 as b,a8 as _,a3 as m,a4 as y,ae as S,a5 as L,a6 as R,ad as O,ac as I,a2 as D,ai as Q}from"./index-DsHL2Y96.js";import{a as P,b as B,Q as j}from"./QItem-C7PbPlQc.js";import{Q as $}from"./QBadge-CjPMeK8i.js";import{Q as F}from"./QList-aEynHny8.js";import{Q as M}from"./QForm-7BV4cmzQ.js";import{Q as z}from"./QPage-CFwRtvi6.js";import{C,B as E,a as A,b as T,L as U,p as Z,c as X}from"./chart-CMoAIPdT.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"text-h4 text-green-3 q-mt-xs"},H={class:"text-h6 text-weight-bold q-mb-md text-white"},J={key:0,class:"text-center text-grey-4 q-mt-md"},K={class:"text-h6 text-weight-bold q-mb-md text-white"},W={class:"row q-col-gutter-md"},ee={class:"col-12 col-md-4 flex flex-center"},te={__name:"InvestmentsPage",setup(ae){C.register(E,A,T,U,Z,X);const c=p([]),l=p({amount:0,date:""});function k(){if(!l.value.amount||!l.value.date){Q.create({type:"negative",message:"Preencha todos os campos corretamente."});return}c.value.push({amount:Number(l.value.amount),date:l.value.date}),Q.create({type:"positive",message:"Investimento registrado!"}),l.value={amount:0,date:""},h()}const n=x(()=>{const o={};return c.value.forEach(t=>{const s=new Date(t.date);if(isNaN(s))return;const d=s.toLocaleString("pt-BR",{month:"long",year:"numeric"});o[d]||(o[d]=0),o[d]+=t.amount}),o}),q=x(()=>c.value.reduce((o,t)=>o+Number(t.amount),0).toLocaleString("pt-BR",{minimumFractionDigits:2})),v=p(null);let i=null;function h(){if(!v.value)return;const o=Object.keys(n.value),t=Object.values(n.value);i&&(i.data.labels=o,i.data.datasets[0].data=t,i.update())}return V(()=>{v.value&&(i=new C(v.value,{type:"bar",data:{labels:Object.keys(n.value),datasets:[{label:"Valor Investido",data:Object.values(n.value),backgroundColor:"#1976d2",borderRadius:12,borderSkipped:!1,hoverBackgroundColor:"#1565c0",barPercentage:.6,categoryPercentage:.6,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:8,shadowColor:"#1976d233"}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"#374151"}},x:{grid:{color:"#374151"}}}}}))}),N(n,h),(o,t)=>(u(),w(z,null,{default:a(()=>[r("div",null,[e(g,{flat:"",bordered:"",class:"q-mb-lg investments-card"},{default:a(()=>[e(f,{class:"row items-center"},{default:a(()=>[e(b,{name:"account_balance_wallet",color:"green",size:"40px",class:"q-mr-md"}),r("div",null,[t[2]||(t[2]=r("div",{class:"text-h6 text-weight-bold text-white"},"Total Investido",-1)),r("div",G,"R$ "+_(q.value),1)])]),_:1})]),_:1}),e(g,{flat:"",bordered:"",class:"q-mb-lg investments-card"},{default:a(()=>[e(f,null,{default:a(()=>[r("div",H,[e(b,{name:"event",color:"primary",class:"q-mr-sm"}),t[3]||(t[3]=m(" Detalhes por Mês "))]),e(F,null,{default:a(()=>[(u(!0),y(L,null,R(n.value,(s,d)=>(u(),w(P,{key:d,class:"investments-list-item"},{default:a(()=>[e(B,null,{default:a(()=>[e(j,{class:"text-subtitle1 text-weight-bold text-white"},{default:a(()=>[m(_(d),1)]),_:2},1024)]),_:2},1024),e(B,{side:""},{default:a(()=>[e($,{color:"green-4",align:"top",class:"q-pa-sm text-subtitle2 text-white"},{default:a(()=>[m(" R$ "+_(s.toLocaleString("pt-BR",{minimumFractionDigits:2})),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),Object.keys(n.value).length===0?(u(),y("div",J," Nenhum investimento registrado ainda. ")):S("",!0)]),_:1})]),_:1})]),_:1}),e(g,{flat:"",bordered:"",class:"investments-card"},{default:a(()=>[e(f,null,{default:a(()=>[r("div",K,[e(b,{name:"add_circle",color:"primary",class:"q-mr-sm"}),t[4]||(t[4]=m(" Novo Investimento "))]),e(M,{onSubmit:O(k,["prevent"])},{default:a(()=>[r("div",W,[e(I,{modelValue:l.value.amount,"onUpdate:modelValue":t[0]||(t[0]=s=>l.value.amount=s),label:"Valor (R$)",type:"number",outlined:"",dense:"",class:"col-12 col-md-4",rules:[s=>s>0||"Valor deve ser maior que zero"],color:"green-4",prefix:"R$",dark:"","label-color":"grey-3","input-class":"text-white"},null,8,["modelValue","rules"]),e(I,{modelValue:l.value.date,"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.date=s),label:"Data do Investimento",type:"date",outlined:"",dense:"",class:"col-12 col-md-4",rules:[s=>!!s||"Campo obrigatório"],color:"primary",dark:"","label-color":"grey-3","input-class":"text-white"},null,8,["modelValue","rules"]),r("div",ee,[e(D,{label:"Investir Agora",color:"primary",type:"submit",unelevated:"",icon:"trending_up",class:"q-mt-sm investments-btn",size:"lg","text-color":"white"})])])]),_:1})]),_:1})]),_:1})])]),_:1}))}},me=Y(te,[["__scopeId","data-v-0767a1b4"]]);export{me as default};
